import { useState } from "react";
import { useSwitchNetwork } from "wagmi";
import { claim } from "../../lib/stake";

const ClaimButton = ({
  style,
  stakingContract,
  stakedTokenIds,
  setPendingTxStep,
  onSuccess,
  unclaimedChill,
}) => {
  const [hovering, setHovering] = useState(false);
  const { switchNetwork } = useSwitchNetwork();

  const handleClick = () => {
    claim(
      stakingContract,
      stakedTokenIds,
      setPendingTxStep,
      onSuccess,
      switchNetwork
    );
  };

  console.log("unclaimedChill", unclaimedChill);

  return (
    <>
      {unclaimedChill > 0 && (
        <svg
          id="Layer_1"
          style={style}
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 1914.07 513.69"
          onMouseEnter={() => setHovering(true)}
          onMouseLeave={() => setHovering(false)}
          onClick={handleClick}
        >
          <g>
            <path
              style={{ fill: "#040402" }}
              d="M96.13,32.88c.71-8.66,1.54-16.11,1.87-23.56C98.32,2.14,102.4,.22,116.5,.08c75.77-.71,151.22,3.25,226.86,3.99,77.13,.76,154.31,.27,231.47,.15,45.21-.07,90.43-.72,135.64-.74,142.54-.07,285.06-.08,427.6,.13,44.23,.07,88.44,.83,132.66,1.45,89.51,1.27,178.84-1.17,268.23-2.81,110.1-2.02,220.14-1.06,330.12,2.12,7.25,.21,14.63,.02,21.83-.45,6.69-.43,10.37,.84,11.91,3.98,.58,1.19,.74,2.47,.81,3.71,3.6,61.19,8.33,122.38,10.27,183.58,1.01,31.7-2.83,63.44-4.72,95.16-.83,13.74-2.3,27.46-3.47,41.2-3.27,38.45-6.32,76.9-9.99,115.34-.68,7.13-3.62,14.22-6.03,21.29-1.3,3.8-7.08,4.99-14.12,5.3-20.07,.85-40.1,1.83-61.48,2.81-.46,1.62-1.45,3.5-1.41,5.38,.13,6.25,.83,12.49,.92,18.73,.13,8.88-6.55,12.41-23.56,12.42-22.11,.01-44.24-.26-66.35-.22-138.11,.22-276.22,.08-414.3,.86-126.84,.72-253.59-.2-380.32-2.57-63.84-1.19-127.72-2.02-191.56-3.13-81.54-1.42-163.04-3.53-244.59-4.28-66.3-.62-132.66,.46-198.99,.5-39.79,.02-79.58-.24-119.35-.83-49.6-.74-99.17-1.91-148.76-3.01-19.55-.43-25.46-3.21-25.78-13.24-.3-9.68,1.51-19.37,1.79-29.06,1.46-48.98,2.58-97.97,4.1-146.95,1.84-58.98,3.93-117.95,6.01-176.93,.23-6.75,1.84-13.49,1.53-20.22-.77-17.23-2.3-34.44-3.41-51.67-.39-5.99-1.04-12-.48-17.98,.94-9.87,3.89-11.21,23-11.3,15.72-.08,31.45,.05,47.19,.09,4.85,.01,9.69,0,16.41,0h-.03ZM1870.33,464.51c1.37-5.84,2.12-10.23,3.51-14.57,.75-2.33,3.56-4.55,3.76-6.85,2.34-27.21,4.2-54.44,6.5-81.66,3.85-45.44,9.41-90.86,11.42-136.33,1.51-33.96-.89-67.98-2.59-101.96-1.51-29.98-4.42-59.94-6.8-89.9-.49-6.18-1.45-12.35-2.23-18.9-3.48-.15-6.34-.32-9.2-.38-34.37-.73-68.76-1.34-103.12-2.18-102.25-2.47-204.43-.31-306.62,1.15-59.93,.86-119.87,1.72-179.81,1.65-61.92-.08-123.84-1.88-185.75-1.88-168.11,0-336.22,.34-504.32,.98-132.23,.5-264.42,1.18-396.46-3.7-26.74-.99-53.75-.14-82.11-.14-1.72,21.13-3.6,41.81-5.04,62.49-.98,14.24-1.13,28.49-2.05,42.72-2.06,31.98-4.42,63.94-6.56,95.92-.86,12.99-.85,26-2.34,38.97-3.76,32.71-5.97,65.39-1.72,98.15,4.04,31.16,6.86,62.37,10.33,93.55,.49,4.45,1.69,8.87,2.63,13.61,4.69,.23,8.47,.56,12.26,.59,93.87,.74,187.75,1.42,281.62,2.19,191.67,1.57,383.36,2.9,575.01,4.9,108.59,1.14,217.13,4.15,325.73,4.96,121.39,.9,242.82,.4,364.24,.25,45.7-.06,91.41-.69,137.1-1.39,21.02-.33,41.97-1.46,62.61-2.22h0Z"
            />
            <path
              style={{ fill: hovering ? "#FD0101" : "#00a6c6" }}
              d="M1870.33,464.51c-20.64,.75-41.6,1.9-62.61,2.22-45.69,.71-91.4,1.34-137.1,1.39-121.42,.15-242.85,.66-364.24-.25-108.59-.81-217.13-3.83-325.73-4.96-191.65-2-383.34-3.33-575.01-4.9-93.87-.77-187.75-1.44-281.62-2.19-3.8-.03-7.57-.36-12.26-.59-.94-4.74-2.14-9.16-2.63-13.61-3.48-31.18-6.29-62.38-10.33-93.55-4.25-32.76-2.03-65.44,1.72-98.15,1.48-12.97,1.47-25.98,2.34-38.97,2.14-31.97,4.5-63.94,6.56-95.92,.92-14.24,1.06-28.49,2.05-42.72,1.44-20.69,3.31-41.36,5.04-62.49,28.34,0,55.36-.84,82.11,.14,132.05,4.89,264.23,4.2,396.46,3.7,168.1-.64,336.21-.97,504.32-.98,61.91,0,123.82,1.81,185.75,1.88,59.94,.07,119.89-.8,179.81-1.65,102.2-1.46,204.37-3.62,306.62-1.15,34.36,.83,68.75,1.44,103.12,2.18,2.86,.06,5.72,.23,9.2,.38,.78,6.55,1.73,12.72,2.23,18.9,2.4,29.97,5.31,59.92,6.8,89.9,1.71,33.98,4.1,68,2.59,101.96-2.01,45.46-7.57,90.89-11.42,136.33-2.3,27.21-4.16,54.44-6.5,81.66-.2,2.31-3.02,4.52-3.76,6.85-1.39,4.34-2.14,8.73-3.51,14.57h0Z"
            />
          </g>
          <text
            style={{
              fontFamily: "MoreSugarRegular, 'More Sugar'",
              fontSize: "170.32px",
            }}
            transform="translate(253.26 317.19)"
          >
            <tspan x="0" y="0">
              Claim $CHILL
            </tspan>
          </text>
        </svg>
      )}
    </>
  );
};

export default ClaimButton;
